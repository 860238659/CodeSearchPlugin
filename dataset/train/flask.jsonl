{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func urlDeletePrefix ( url : String ) : String {  if ( url . startsWith ( / ) ) {  return url [ 1 .. url . size ( ) ] NL } NL url NL }","func_name":"urlDeletePrefix","docstring":"/**\n     * The Function is urlDeletePrefix\n     *\n     * @param url of String\n     *\n     * @return Type of String\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func urlAddSuffix ( url : String ) : String {  if ( url . endsWith ( / ) ) {  return url NL } NL return url + / NL }","func_name":"urlAddSuffix","docstring":"/**\n     * The Function is urlAddSuffix\n     *\n     * @param url of String\n     *\n     * @return Type of String\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func fixUrl ( url : String ) : String {  return urlAddSuffix ( prefix ) + urlDeletePrefix ( url |> urlAddSuffix ) NL }","func_name":"fixUrl","docstring":"/**\n     * The Function is fixUrl\n     *\n     * @param url of String\n     *\n     * @return Type of String\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func setTmplPath ( path : String ) {  engine . setTmplPath ( path ) NL }","func_name":"setTmplPath","docstring":"/**\n     * The Function is setTmplPath\n     *\n     * @param path of String\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func group ( url : String ) : Router {   let r = Router ( url |> fixUrl , this . engine ) NL return r NL }","func_name":"group","docstring":"/**\n     * The Function is group\n     *\n     * @param url of String\n     *\n     * @return Type of Router\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func GET ( url : String , f : HandlerFunc ) {  engine . GET ( url |> fixUrl , RouteEntry ( f , middlewareList ) ) NL }","func_name":"GET","docstring":"/**\n     * The Function is GET\n     *\n     * @param url of String\n     * @param f of HandlerFunc\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func PUT ( url : String , f : HandlerFunc ) {  engine . PUT ( url |> fixUrl , RouteEntry ( f , middlewareList ) ) NL }","func_name":"PUT","docstring":"/**\n     * The Function is PUT\n     *\n     * @param url of String\n     * @param f of HandlerFunc\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func POST ( url : String , f : HandlerFunc ) {  engine . POST ( url |> fixUrl , RouteEntry ( f , middlewareList ) ) NL }","func_name":"POST","docstring":"/**\n     * The Function is POST\n     *\n     * @param url of String\n     * @param f of HandlerFunc\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func HEAD ( url : String , f : HandlerFunc ) {  engine . HEAD ( url |> fixUrl , RouteEntry ( f , middlewareList ) ) NL }","func_name":"HEAD","docstring":"/**\n     * The Function is HEAD\n     *\n     * @param url of String\n     * @param f of HandlerFunc\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func PATCH ( url : String , f : HandlerFunc ) {  engine . PATCH ( url |> fixUrl , RouteEntry ( f , middlewareList ) ) NL }","func_name":"PATCH","docstring":"/**\n     * The Function is PATCH\n     *\n     * @param url of String\n     * @param f of HandlerFunc\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func TRACE ( url : String , f : HandlerFunc ) {  engine . TRACE ( url |> fixUrl , RouteEntry ( f , middlewareList ) ) NL }","func_name":"TRACE","docstring":"/**\n     * The Function is TRACE\n     *\n     * @param url of String\n     * @param f of HandlerFunc\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func DELETE ( url : String , f : HandlerFunc ) {  engine . DELETE ( url |> fixUrl , RouteEntry ( f , middlewareList ) ) NL }","func_name":"DELETE","docstring":"/**\n     * The Function is DELETE\n     *\n     * @param url of String\n     * @param f of HandlerFunc\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func CONNECT ( url : String , f : HandlerFunc ) {  engine . CONNECT ( url |> fixUrl , RouteEntry ( f , middlewareList ) ) NL }","func_name":"CONNECT","docstring":"/**\n     * The Function is CONNECT\n     *\n     * @param url of String\n     * @param f of HandlerFunc\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func OPTIONS ( url : String , f : HandlerFunc ) {  engine . OPTIONS ( url |> fixUrl , RouteEntry ( f , middlewareList ) ) NL }","func_name":"OPTIONS","docstring":"/**\n     * The Function is OPTIONS\n     *\n     * @param url of String\n     * @param f of HandlerFunc\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func serveHTTP ( w : ResponseWriteStream , r : Request ) : Unit {  engine . serveHTTP ( w , r ) NL }","func_name":"serveHTTP","docstring":"/**\n     * The Function is serveHTTP\n     *\n     * @param w of ResponseWriteStream\n     * @param r of Request\n     *\n     * @return Type of Unit\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func use ( h : HandlerFunc ) {  middlewareList . append ( h ) NL }","func_name":"use","docstring":"/**\n     * The Function is use\n     *\n     * @param h of HandlerFunc\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"router.cj","path":"flask/src/router.cj","code_tokens":"public func run ( port : UInt16 ) : Unit {  LOGGER . setLevel ( LogLevel . DEBUG ) NL LOGGER . info ( server is running,please visit http://localhost:${port} ) NL LOGGER . flush ( ) NL  let server = Server ( engine ) NL server . port = port NL server . listenAndServe ( ) NL }","func_name":"run","docstring":"/**\n     * The Function is run\n     *\n     * @param port of UInt16\n     *\n     * @return Type of Unit\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func setTmplPath ( p : String ) {  this . tmplPath = p NL }","func_name":"setTmplPath","docstring":"/**\n     * The Function is setTmplPath\n     *\n     * @param p of String\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func loadHTMLFiles ( pathName : String ) {  tmpl . loadHTMLFiles ( tmplPath + pathName ) NL return NL }","func_name":"loadHTMLFiles","docstring":"/**\n     * The Function is loadHTMLFiles\n     *\n     * @param pathName of String\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func url ( ) : String {  r . url . requestURI ( ) NL }","func_name":"url","docstring":"/**\n     * The Function is url\n     *\n     * @return Type of String\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func status ( code : Int64 ) {  this . code = code NL w . writeStatusCode ( code ) NL }","func_name":"status","docstring":"/**\n     * The Function is status\n     *\n     * @param code of Int64\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func contentType ( s : String ) {  w . header ( ) . set ( Content-Type , s ) NL }","func_name":"contentType","docstring":"/**\n     * The Function is contentType\n     *\n     * @param s of String\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"func HTMLRender ( code : Int64 , a : Array < UInt8 > ) {  status ( code ) NL contentType ( text/html; charset=utf-8 ) NL w . write ( a ) NL }","func_name":"HTMLRender","docstring":""}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"func JSONRender ( code : Int64 , a : Array < UInt8 > ) {  status ( code ) NL contentType ( text/json; charset=utf-8 ) NL w . write ( a ) NL }","func_name":"JSONRender","docstring":""}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func HTML ( code : Int64 ) {  HTMLRender ( code , tmpl . toUtf8Array ( ) ) NL }","func_name":"HTML","docstring":"/**\n     * The Function is HTML\n     *\n     * @param code of Int64\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func HTML ( ) {  HTMLRender ( code , tmpl . toUtf8Array ( ) ) NL }","func_name":"HTML","docstring":"/**\n     * The Function is HTML\n     *\n     * @param code of Int64\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func HTML ( code : Int64 , s : String ) {  HTMLRender ( code , s . toUtf8Array ( ) ) NL }","func_name":"HTML","docstring":"/**\n     * The Function is HTML\n     *\n     * @param code of Int64\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func HTML ( code : Int64 , a : Array < UInt8 > ) {  HTMLRender ( code , a ) NL }","func_name":"HTML","docstring":"/**\n     * The Function is HTML\n     *\n     * @param code of Int64\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func serve404 ( ) {  HTMLRender ( 404 , page is not found ) NL }","func_name":"serve404","docstring":"/**\n     * The Function is serve404\n     *\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func serve500 ( ) {  HTMLRender ( 500 , server error ) NL }","func_name":"serve500","docstring":"/**\n     * The Function is serve500\n     *\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func JSON ( code : Int64 , j : JsonObject ) : Unit {  JSONRender ( code , j . toString ( ) . toUtf8Array ( ) ) NL }","func_name":"JSON","docstring":"/**\n     * The Function is JSON\n     *\n     * @param code of Int64\n     * @param j of JsonObject\n     *\n     * @return Type of Unit\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func JSON ( code : Int64 , map : HashMap < String , JsonValue > ) : Unit {  JSONRender ( code , JsonObject ( map ) . toString ( ) . toUtf8Array ( ) ) NL }","func_name":"JSON","docstring":"/**\n     * The Function is JSON\n     *\n     * @param code of Int64\n     * @param j of JsonObject\n     *\n     * @return Type of Unit\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func JSON ( code : Int64 , s : String ) : Unit {  try {   var j = JsonValue . fromStr ( s ) NL JSONRender ( code , j . toString ( ) . toUtf8Array ( ) ) NL } catch ( e : Throwable ) {  LOGGER . error ( this json is Non-standard ) NL LOGGER . flush ( ) NL throw Exception ( this json is Non-standard,please check the json string ) NL } NL }","func_name":"JSON","docstring":"/**\n     * The Function is JSON\n     *\n     * @param code of Int64\n     * @param j of JsonObject\n     *\n     * @return Type of Unit\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"context.cj","path":"flask/src/context.cj","code_tokens":"public func JSON ( code : Int64 , j : JsonValue ) : Unit {  JSONRender ( code , j . toString ( ) . toUtf8Array ( ) ) NL }","func_name":"JSON","docstring":"/**\n     * The Function is JSON\n     *\n     * @param code of Int64\n     * @param j of JsonObject\n     *\n     * @return Type of Unit\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"func urlAddSuffix ( url : String ) : String {  if ( url . endsWith ( / ) ) {  return url NL } NL return url + / NL }","func_name":"urlAddSuffix","docstring":""}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"func getRouterList ( method : RequestMethod ) : RouterHashMap {  match ( method ) { case GET => GET_ROUTER_LIST NL case PUT => PUT_ROUTER_LIST NL case POST => POST_ROUTER_LIST NL case HEAD => HEAD_ROUTER_LIST NL case PATCH => PATCH_ROUTER_LIST NL case TRACE => TRACE_ROUTER_LIST NL case DELETE => DELETE_ROUTER_LIST NL case CONNECT => CONNECT_ROUTER_LIST NL case OPTIONS => OPTIONS_ROUTER_LIST NL } NL }","func_name":"getRouterList","docstring":""}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"public func GET ( url : String , f : RouteEntry ) {  GET_ROUTER_LIST . put ( url , f ) NL }","func_name":"GET","docstring":"/**\n     * The Function is GET\n     *\n     * @param url of String\n     * @param f of RouteEntry\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"public func PUT ( url : String , f : RouteEntry ) {  PUT_ROUTER_LIST . put ( url , f ) NL }","func_name":"PUT","docstring":"/**\n     * The Function is PUT\n     *\n     * @param url of String\n     * @param f of RouteEntry\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"public func POST ( url : String , f : RouteEntry ) {  POST_ROUTER_LIST . put ( url , f ) NL }","func_name":"POST","docstring":"/**\n     * The Function is POST\n     *\n     * @param url of String\n     * @param f of RouteEntry\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"public func HEAD ( url : String , f : RouteEntry ) {  HEAD_ROUTER_LIST . put ( url , f ) NL }","func_name":"HEAD","docstring":"/**\n     * The Function is HEAD\n     *\n     * @param url of String\n     * @param f of RouteEntry\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"public func PATCH ( url : String , f : RouteEntry ) {  PATCH_ROUTER_LIST . put ( url , f ) NL }","func_name":"PATCH","docstring":"/**\n     * The Function is PATCH\n     *\n     * @param url of String\n     * @param f of RouteEntry\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"public func TRACE ( url : String , f : RouteEntry ) {  TRACE_ROUTER_LIST . put ( url , f ) NL }","func_name":"TRACE","docstring":"/**\n     * The Function is TRACE\n     *\n     * @param url of String\n     * @param f of RouteEntry\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"public func DELETE ( url : String , f : RouteEntry ) {  DELETE_ROUTER_LIST . put ( url , f ) NL }","func_name":"DELETE","docstring":"/**\n     * The Function is DELETE\n     *\n     * @param url of String\n     * @param f of RouteEntry\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"public func CONNECT ( url : String , f : RouteEntry ) {  CONNECT_ROUTER_LIST . put ( url , f ) NL }","func_name":"CONNECT","docstring":"/**\n     * The Function is CONNECT\n     *\n     * @param url of String\n     * @param f of RouteEntry\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"public func OPTIONS ( url : String , f : RouteEntry ) {  OPTIONS_ROUTER_LIST . put ( url , f ) NL }","func_name":"OPTIONS","docstring":"/**\n     * The Function is OPTIONS\n     *\n     * @param url of String\n     * @param f of RouteEntry\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"public func setTmplPath ( path : String ) {  tmplPath = path NL }","func_name":"setTmplPath","docstring":"/**\n     * The Function is setTmplPath\n     *\n     * @param path of String\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"engine.cj","path":"flask/src/engine.cj","code_tokens":"public func serveHTTP ( w : ResponseWriteStream , r : Request ) : Unit {   let c = Context ( w , r ) NL match ( getRouterList ( r . method ) . get ( c . path |> urlAddSuffix ) ) { case None => c . serve404 ( ) NL case Some ( v ) => c . tmplPath = tmplPath NL try {  if ( v . middlewareList . size ( ) > 0 ) {  for ( i in 0 .. v . middlewareList . size ( ) ) {  v . middlewareList [ i ] ( c ) NL } NL } NL v . handlerFunc ( c ) NL LOGGER . info (  ACCESSE ${c.method.toString()} ${c.code} ${r.url.toString()} ) NL } catch ( e : Exception ) {  c . code = 500 NL c . serve500 ( ) NL LOGGER . info (  ERROR ${c.method.toString()} ${c.code} ${r.url.toString()} error:${e} ) NL } NL } NL LOGGER . flush ( ) NL }","func_name":"serveHTTP","docstring":"/**\n     * The Function is serveHTTP\n     *\n     * @param w of ResponseWriteStream\n     * @param r of Request\n     *\n     * @return Type of Unit\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"Template.cj","path":"flask/src/Template.cj","code_tokens":"public func loadHTMLFiles ( pathName : String ) : Int64 {  try (  let fs = FileStream ( pathName , AccessMode . ReadOnly ) ) {  fs . openFile ( ) NL this . ss = StringStream ( fs . readAllText ( ) ) NL } NL return 0 NL }","func_name":"loadHTMLFiles","docstring":"/**\n     * The Function is loadHTMLFiles\n     *\n     * @param pathName of String\n     *\n     * @return Type of Int64\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"Template.cj","path":"flask/src/Template.cj","code_tokens":"public func toString ( ) : String {  ss . toString ( ) NL }","func_name":"toString","docstring":"/**\n     * The Function is toString\n     *\n     * @return Type of String\n     * @since 0.30.4\n     */"}
{"repo":"flask","file":"Template.cj","path":"flask/src/Template.cj","code_tokens":"public func toUtf8Array ( ) : Array < UInt8 > {  ss . toString ( ) . toUtf8Array ( ) NL }","func_name":"toUtf8Array","docstring":"/**\n     * The Function is toUtf8Array\n     *\n     * @return Type of Array<UInt8>\n     * @since 0.30.4\n     */"}
